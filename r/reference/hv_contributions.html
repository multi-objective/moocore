<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Hypervolume contribution of a set of points — hv_contributions • moocore</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Hypervolume contribution of a set of points — hv_contributions"><meta name="description" content="Computes the hypervolume contribution of each point of a set of points with
respect to a given reference point. Duplicated and dominated points have
zero contribution.  By default, dominated points are ignored, that is, they
do not affect the contribution of other points.  See the Notes below for
more details.  For details about the hypervolume, see hypervolume()."><meta property="og:description" content="Computes the hypervolume contribution of each point of a set of points with
respect to a given reference point. Duplicated and dominated points have
zero contribution.  By default, dominated points are ignored, that is, they
do not affect the contribution of other points.  See the Notes below for
more details.  For details about the hypervolume, see hypervolume()."><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous"><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">moocore</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.2.0.900</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/benchmarks.html">Benchmarks</a></li>
    <li><a class="dropdown-item" href="../articles/eaf.html">Empirical Attainment Function (EAF)</a></li>
    <li><a class="dropdown-item" href="../articles/generate.html">Sampling Random Nondominated Sets</a></li>
    <li><a class="dropdown-item" href="../articles/hv_approx.html">Approximating the hypervolume</a></li>
    <li><a class="dropdown-item" href="../articles/metrics.html">Computing Multi-Objective Quality Metrics</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://cloud.r-project.org/package=moocore" aria-label="View on CRAN"><span class="fa fab fa-r-project"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/multi-objective/moocore/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Hypervolume contribution of a set of points</h1>
      <small class="dont-index">Source: <a href="https://github.com/multi-objective/moocore/blob/HEAD/r/R/hv.R" class="external-link"><code>R/hv.R</code></a></small>
      <div class="d-none name"><code>hv_contributions.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Computes the hypervolume contribution of each point of a set of points with
respect to a given reference point. Duplicated and dominated points have
zero contribution.  By default, dominated points are ignored, that is, they
do not affect the contribution of other points.  See the Notes below for
more details.  For details about the hypervolume, see <code><a href="hypervolume.html">hypervolume()</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">hv_contributions</span><span class="op">(</span><span class="va">x</span>, <span class="va">reference</span>, maximise <span class="op">=</span> <span class="cn">FALSE</span>, ignore_dominated <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p><code><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix()</a></code>|<code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame()</a></code><br> Matrix or data frame of numerical
values, where each row gives the coordinates of a point.</p></dd>


<dt id="arg-reference">reference<a class="anchor" aria-label="anchor" href="#arg-reference"></a></dt>
<dd><p><code><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric()</a></code><br> Reference point as a vector of numerical
values.</p></dd>


<dt id="arg-maximise">maximise<a class="anchor" aria-label="anchor" href="#arg-maximise"></a></dt>
<dd><p><code><a href="https://rdrr.io/r/base/logical.html" class="external-link">logical()</a></code><br> Whether the objectives must be maximised
instead of minimised. Either a single logical value that applies to all
objectives or a vector of logical values, with one value per objective.</p></dd>


<dt id="arg-ignore-dominated">ignore_dominated<a class="anchor" aria-label="anchor" href="#arg-ignore-dominated"></a></dt>
<dd><p><code>logical(1)</code><br> Whether dominated points are ignored
when computing the contribution of nondominated points.  The value of this
parameter has an effect on the return values only if the input contains
dominated points. Setting this to <code>FALSE</code> slows down the computation
significantly.  See the Notes below for a detailed explanation.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric()</a></code><br> A numerical vector</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The hypervolume contribution of point \(\vec{p} \in X\) is defined as
\(\text{hvc}(\vec{p}) = \text{hyp}(X) - \text{hyp}(X \setminus
\{\vec{p}\})\).  This definition implies that duplicated points have zero
contribution even if not dominated, because removing one of the duplicates
does not change the hypervolume of the remaining set.  Moreover, dominated
points also have zero contribution. However, a point that is dominated by a
single (dominating) nondominated point reduces the contribution of the
latter, because removing the dominating point makes the dominated one become
nondominated.</p>
<p>Handling this special case is non-trivial and makes the computation more
expensive, thus the default (<code>ignore_dominated=TRUE</code>) ignores all dominated
points in the input, that is, their contribution is set to zero and their
presence does not affect the contribution of any other point.  Setting
<code>ignore_dominated=FALSE</code> will consider dominated points according to the
mathematical definition given above, but the computation will be slower.</p>
<p>When the input only consists of mutually nondominated points, the value of
<code>ignore_dominated</code> does not change the result, but the default value is
significantly faster.</p>
<p>The current implementation uses a \(O(n\log n)\) dimension-sweep
algorithm for 2D.  With <code>ignore_dominated=TRUE</code>, the 3D case uses the HVC3D
algorithm (Guerreiro and Fonseca 2018)
, which has \(O(n\log n)\) complexity.
Otherwise, the implementation uses the naive algorithm that requires
calculating the hypervolume \(|X|+1\) times.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Andreia
P. Guerreiro, Carlos
M. Fonseca (2018).
“Computing and Updating Hypervolume Contributions in Up to Four Dimensions.”
<em>IEEE Transactions on Evolutionary Computation</em>, <b>22</b>(3), 449–463.
<a href="https://doi.org/10.1109/tevc.2017.2729550" class="external-link">doi:10.1109/tevc.2017.2729550</a>
.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="hypervolume.html">hypervolume()</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Manuel López-Ibáñez</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">1</span>, <span class="fl">1</span>,<span class="fl">5</span>, <span class="fl">4</span>,<span class="fl">2</span>, <span class="fl">4</span>,<span class="fl">4</span>, <span class="fl">5</span>,<span class="fl">1</span><span class="op">)</span>, ncol<span class="op">=</span><span class="fl">2</span>, byrow<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">hv_contributions</span><span class="op">(</span><span class="va">x</span>, reference<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6</span>,<span class="fl">6</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0 3 3 0 0</span>
<span class="r-in"><span><span class="co"># hvc[(5,1)] = 0 = duplicated</span></span></span>
<span class="r-in"><span><span class="co"># hvc[(1,5)] = 3 = (4 - 1) * (6 - 5)</span></span></span>
<span class="r-in"><span><span class="co"># hvc[(4,2)] = 3 = (5 - 4) * (5 - 2)</span></span></span>
<span class="r-in"><span><span class="co"># hvc[(4,4)] = 0 = dominated</span></span></span>
<span class="r-in"><span><span class="co"># hvc[(5,1)] = 0 = duplicated</span></span></span>
<span class="r-in"><span><span class="fu">hv_contributions</span><span class="op">(</span><span class="va">x</span>, reference<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6</span>,<span class="fl">6</span><span class="op">)</span>, ignore_dominated <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0 3 2 0 0</span>
<span class="r-in"><span><span class="co"># hvc[(5,1)] = 0 = duplicated</span></span></span>
<span class="r-in"><span><span class="co"># hvc[(1,5)] = 3 = (4 - 1) * (6 - 5)</span></span></span>
<span class="r-in"><span><span class="co"># hvc[(4,2)] = 2 = (5 - 4) * (4 - 2)</span></span></span>
<span class="r-in"><span><span class="co"># hvc[(4,4)] = 0 = dominated</span></span></span>
<span class="r-in"><span><span class="co"># hvc[(5,1)] = 0 = duplicated</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">SPEA2minstoptimeRichmond</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># The second objective must be maximized</span></span></span>
<span class="r-in"><span><span class="co"># We calculate the hypervolume contribution of each point of the union of all sets.</span></span></span>
<span class="r-in"><span><span class="fu">hv_contributions</span><span class="op">(</span><span class="va">SPEA2minstoptimeRichmond</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span>, reference <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">250</span>, <span class="fl">0</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>            maximise <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1]     0.000     0.000     0.000     0.000     0.000     0.000     0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [8]     0.000     0.000     0.000     0.000     0.000     0.000     0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [15]     0.000     0.000     0.000     0.000     0.000     0.000     0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [22]     0.000     8.197     0.000     0.000     0.000     0.000     0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [29]     0.000     0.000     0.000     0.000     0.000     0.000     0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [36]     0.000     0.000     0.000     0.000     0.000     0.000     0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [43]     0.000     0.000     0.000     0.000     0.000     0.000  7959.940</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [50]  1945.800  8147.132     0.000     0.000     0.000     0.000     0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [57]     0.000     0.000     0.000     0.000     0.000     0.000     0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [64]     0.000     0.000     0.000     0.000     0.000     0.000     0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [71]    26.255     0.000     0.000     0.000     0.000     0.000     0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [78]     0.000     0.000     0.000     0.000     0.000     0.000     0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [85]     0.000     0.000     0.000     0.000     0.000     0.000     0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [92]     0.000  3698.640     0.000     0.000     5.971     0.000     0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [99]     0.000     0.000     0.000     0.000     0.000     0.000     0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [106]     0.000     0.000     0.000     0.000     0.000     0.000     0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [113]     0.000     0.000     0.000     0.000     0.000     0.000     0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [120]     0.000  3069.000   779.240     0.000     0.000     0.000     0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [127]     0.000     0.000     0.000     0.000     0.000 41994.755     0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [134]     0.000     0.000     0.000     0.000     0.000     0.000     0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [141]     0.000     0.000     0.000     0.000     0.000     0.000     0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [148]     0.000     0.000     0.000     0.000     0.000     0.000     0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [155]     0.000     0.000     0.000     0.000     0.000  2294.064     0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [162]     0.000     0.000     0.000     0.000     0.000</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Duplicated points show zero contribution above, even if not</span></span></span>
<span class="r-in"><span><span class="co"># dominated. However, filter_dominated removes all duplicates except</span></span></span>
<span class="r-in"><span><span class="co"># one. Hence, there are more points below with nonzero contribution.</span></span></span>
<span class="r-in"><span><span class="fu">hv_contributions</span><span class="op">(</span><span class="fu"><a href="nondominated.html">filter_dominated</a></span><span class="op">(</span><span class="va">SPEA2minstoptimeRichmond</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span>, maximise <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                 reference <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">250</span>, <span class="fl">0</span><span class="op">)</span>, maximise <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  89283.920 255278.978      8.197   2242.660   7959.940   1945.800</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7]   8147.132     73.054     26.255   3698.640      5.971 193143.324</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [13]   3069.000    779.240  41994.755   2294.064</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Manuel López-Ibáñez.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

